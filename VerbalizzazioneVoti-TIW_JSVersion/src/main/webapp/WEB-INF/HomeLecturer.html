<!DOCTYPE html>
<head>
<meta charset="ISO-8859-1">
<title>Lecturer's Home</title>
<script src="utils.js" charset="utf-8" defer></script>
<script src="sort.js" charset="utf-8" defer></script>
</head>
<body>
	<div align="right">
		<a th:href="@{/Logout}">Logout</a>
	</div>
	<h1>Home Page lecturer</h1>
	<h3
		th:text="'Welcome to you home page:' + ${session.user.name} + ' ' + ${session.user.surname}">Lecturer</h3>

	<div id="id_alert" class="alertmessage"></div>

	<table id="id_courseCallContainer">
		<tr>
			<td>
				<div>
					<p>List of courses taught by you</p>
					<table id="id_courseContainer">
						<thead>
							<tr>
								<th>ID</th>
								<th>Name</th>
								<th>Description</th>
							</tr>
						</thead>
						<tbody id="id_courseContainerBody"> </tbody>
					</table>
				</div>
			</td>
			<td>
				<div id="id_callContainer">
					<p> </p>
					<table>
						<thead>
							<tr>
								<th>ID</th>
								<th>Date</th>
								<th>Time</th>
							</tr>
						</thead>
						<tbody id="id_callContainerBody"> </tbody>
					</table>
				</div>
			</td>
		</tr>

	</table>

	<div th:if="${courses.size() == 0 and errorMessage==null}">No
		courses found</div>
	<br>
	<br>

	<div th:if="${calls.size() >0}">
		<p>List of calls associated with the course you chose</p>
		<table border="1">
			<thead>
				<tr>
					<th>ID</th>
					<th>Date</th>
					<th>Time</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="c : ${calls}">
					<td th:text="${c.id}"></td>
					<td th:text="${c.date}"></td>
					<td th:utext="${c.time}"></td>
					<td>
						<form th:action="@{/GetSubscriptionToCall}" method="POST">
							<input type="hidden" name="callid" th:value="${c.id}"> <input
								type="submit" value="Choose">
						</form>
					</td>
				</tr>
			</tbody>
		</table>
	</div>

	<div
		th:if="${courses.size() > 0 and calls.size()==0 and errorMessage==null and !firstTime}">No
		calls found</div>

	<p style="color: red;" th:text="${errorMessage}"></p>
</body>
</html>